<!DOCTYPE html> <html lang="en, bg, de"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="3m9Oob5fw7DxBVE7aIi63DaBCHjNFPeluUH9jCmmMBA"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> The St. Petersburg Paradox, Re-Run Over Time | Kaloyan P. Parvanov </title> <meta name="author" content="Kaloyan P. Parvanov"> <meta name="description" content="How an old paradox reveals a deep flaw in classical economics and points the way to a more realistic model of human decision-making."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.css" integrity="sha256-uRX+PiRTR4ysKFRCykT8HLuRCub26LgXJZym3Yeom1c=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/Favicon2.png?7d25c01b23eb8ef730d6b6ad8c347aaa"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://www.kparvanov.com/blog/2025/st_petersburg/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Kaloyan</span> P. Parvanov </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">The St. Petersburg Paradox, Re-Run Over Time</h1> <p class="post-meta"> Created in June 29, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/ergodicity"> <i class="fa-solid fa-hashtag fa-sm"></i> ergodicity</a>   <a href="/blog/tag/utility-theory"> <i class="fa-solid fa-hashtag fa-sm"></i> utility theory</a>   <a href="/blog/tag/decision-theory"> <i class="fa-solid fa-hashtag fa-sm"></i> decision theory</a>   ·   <a href="/blog/category/mathematics"> <i class="fa-solid fa-tag fa-sm"></i> mathematics</a>   <a href="/blog/category/economics"> <i class="fa-solid fa-tag fa-sm"></i> economics</a>   <a href="/blog/category/computer-science"> <i class="fa-solid fa-tag fa-sm"></i> computer science</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>I was recently trying to explain the St. Petersburg paradox to my uncle from memory during a walk in the park. The setup is a deceptively simple coin-tossing game.</p> <blockquote> <p>A fair coin is flipped until it lands heads for the first time. The payout is determined by the number of flips it takes. If heads appears on the 1st toss, you win $2. If on the 2nd, $4. If on the 3rd, $8, and so on, with the payout doubling each time.</p> </blockquote> <p><strong>The question is: What is a fair price to pay to play this game?</strong></p> <p>The mathematical answer for the expected payoff is famously, and confusingly, infinite. The calculation sums the probability of each outcome multiplied by its payout:</p> \[\mathbb{E}[X] = \left(\frac{1}{2}\right)\cdot \$2 + \left(\frac{1}{4}\right)\cdot \$4 + \left(\frac{1}{8}\right)\cdot \$8 + \dots = \sum_{n=1}^{\infty} \frac{1}{2^n} \cdot 2^n = \$1 + \$1 + \$1 + \dots = \infty\] <p>A purely “rational” actor, according to classical theory, should be willing to pay any finite price to play. Yet, intuitively, no one would. Most people would only offer a few dollars. As I explained this, I found myself questioning the standard explanation.</p> <h2 id="the-classical-solution-and-its-context">The Classical “Solution” and Its Context</h2> <p>The classic solution, proposed by <a href="https://psych.fullerton.edu/mbirnbaum/psych466/articles/bernoulli_econometrica.pdf" rel="external nofollow noopener" target="_blank">Daniel Bernoulli in 1738</a>, is that people don’t value money linearly. The “utility” of an extra dollar diminishes as you get wealthier. This <strong>diminishing marginal utility</strong>, often modeled with a logarithmic function, makes the <em>expected utility</em> of the game finite, justifying a small price.</p> <p>Utility theory gives a coherent normative answer and can be derived axiomatically from <a href="https://www.princeton.edu/~wbialek/rome/refs/kelly_56.pdf" rel="external nofollow noopener" target="_blank">Kelly-growth</a> or isoelastic preference arguments. It remains the benchmark in modern finance. However, it is not the only coherent answer. My intuition suggested a different approach:</p> <blockquote> <p>People subconsciously know they have <strong>finite wealth</strong>.</p> </blockquote> <p>To have a real shot at the astronomical prizes that create the infinite expectation (provided the casino has unbounded credit, which is itself unrealistic), you’d need to survive a long string of losses. Most people know their starting stake would be gone long before that lucky streak arrived.</p> <h2 id="a-simulation-and-the-risk-landscape">A Simulation and the Risk Landscape</h2> <p>To test this intuition, I wrote a simulation. The crucial rule, which defines how real people must play, is that <strong>winnings cannot be used to fund more plays</strong>. You arrive with a fixed stake, and when that money is gone, your game is over. This “Stake-Based Model” directly tests the idea that your starting capital is the most important constraint.</p> <p>The goal was to create a landscape of risk, showing how a player’s chance of success changes across different starting stakes and entry prices.</p> <details> <summary>Click to see the simulation code</summary> <pre><code class="language-python">import random
import numpy as np

def simulate_stake_play(start_stake, entry_price):
    stake = float(start_stake)
    net_winnings = 0.0
    
    while stake &gt;= entry_price:
        stake -= entry_price
        
        # Flip until heads
        flips = 1
        while random.random() &gt; 0.5:
            flips += 1
        
        payout = 2**flips
        net_winnings += payout
    
    return net_winnings + stake

def generate_results_table():
    entry_prices = [6, 8, 10, 13]
    wealth_levels = [64, 256, 1024, 8192]
    n_sims = 50_000

    header = "| Starting Stake | " + " | ".join([f"Price = ${p}" for p in entry_prices]) + " |"
    separator = "|:---" + "|:---" * len(entry_prices) + "|"
    print("## Simulation Results: Chance of Breaking Even or Profiting\n")
    print(header)
    print(separator)

    for wealth in wealth_levels:
        row = [f"**${wealth:,}**"]
        
        for price in entry_prices:
            if wealth &lt; price:
                row.append("N/A")
                continue

            outcomes = [simulate_stake_play(wealth, price) for _ in range(n_sims)]
            success_rate = sum(1 for outcome in outcomes if outcome &gt;= wealth) / n_sims
            row.append(f"{success_rate * 100:.1f}%")

        print("| " + " | ".join(row) + " |")

if __name__ == "__main__":
    generate_results_table()
</code></pre> </details> <p>Running this code produces a table that tells a clear story:</p> <h2 id="simulation-results-chance-of-breaking-even-or-profiting">Simulation Results: Chance of Breaking Even or Profiting</h2> <table> <thead> <tr> <th style="text-align: left">Starting Stake</th> <th style="text-align: left">Price = $6</th> <th style="text-align: left">Price = $8</th> <th style="text-align: left">Price = $10</th> <th style="text-align: left">Price = $13</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><strong>$64</strong></td> <td style="text-align: left">49.9%</td> <td style="text-align: left">31.2%</td> <td style="text-align: left">21.6%</td> <td style="text-align: left">14.5%</td> </tr> <tr> <td style="text-align: left"><strong>$256</strong></td> <td style="text-align: left">73.7%</td> <td style="text-align: left">45.9%</td> <td style="text-align: left">31.0%</td> <td style="text-align: left">19.1%</td> </tr> <tr> <td style="text-align: left"><strong>$1,024</strong></td> <td style="text-align: left">95.6%</td> <td style="text-align: left">67.4%</td> <td style="text-align: left">44.0%</td> <td style="text-align: left">26.1%</td> </tr> <tr> <td style="text-align: left"><strong>$8,192</strong></td> <td style="text-align: left">100.0%</td> <td style="text-align: left">98.0%</td> <td style="text-align: left">75.6%</td> <td style="text-align: left">41.1%</td> </tr> </tbody> </table> <p>This table vividly confirms the initial intuition. Reading across any row, the chance of profiting plummets as the price increases. Reading down any column, a larger stake dramatically improves a player’s odds at a fixed price. The game is clearly not the same for everyone.</p> <h2 id="the-world-of-ergodicity-economics">The World of Ergodicity Economics</h2> <p>This line of thinking led me to the work of physicist <a href="https://arxiv.org/abs/1011.4404" rel="external nofollow noopener" target="_blank"><strong>Ole Peters</strong></a> and the field of <strong>ergodicity economics</strong>. It turns out there was a formal name for my intuition. The problem wasn’t psychology; it was that economists were using the wrong kind of average.</p> <ol> <li> <p><strong>Ensemble Average:</strong> This is the standard “expected value” (\(\mathbb{E}[X]\)). It’s the average outcome if a million people played the game in parallel universes <em>at the same time</em>. This is what gives the result of infinity.</p> </li> <li> <p><strong>Time Average:</strong> This is the average outcome for <em>one person</em> playing the game over and over through time. This is what we actually experience in life.</p> </li> </ol> <p>For many systems, these averages are the same (a property called ergodicity). But for a game like St. Petersburg, they are wildly different. Ergodicity economics argues that a rational person should optimize for the time average. This means maximizing the long-term <strong>growth rate</strong> of their wealth, which, for multiplicative processes, is equivalent to maximizing the expected change in the logarithm of wealth.</p> <h3 id="the-exact-growth-neutral-price">The Exact Growth-Neutral Price</h3> <p>A “fair” price <code class="language-plaintext highlighter-rouge">c</code> is one that makes the game “growth-neutral.” The expected change in your log-wealth should be zero. For a player starting with total wealth <code class="language-plaintext highlighter-rouge">W</code> who <strong>reinvests their winnings</strong> (where <code class="language-plaintext highlighter-rouge">c ≤ W</code> is required), we can express this with the following exact equation:</p> \[\mathbb{E}[\Delta \log(W)] = \sum_{n=1}^{\infty} p_n \cdot \log(W - c + \text{payout}_n) - \log(W) = 0\] <p>For our game, where the probability \(p_n = 1/2^n\) and the payout is \(2^n\) (assuming $1 as our monetary unit for the first head), this becomes:</p> \[\sum_{n=1}^{\infty} \frac{1}{2^n} \log(W - c + 2^n) = \log(W)\] <p>This equation is the formal, complete expression for the fair price in a compounding game. However, it cannot be solved algebraically to isolate <code class="language-plaintext highlighter-rouge">c</code>.</p> <h3 id="approximate-rule">Approximate Rule</h3> <p>To find a simple, usable rule, we can derive an approximation. The key insight is that the fair price <code class="language-plaintext highlighter-rouge">c</code> should be related to the number of coin flips required to get a payout that is on the same order of magnitude as your entire wealth, <code class="language-plaintext highlighter-rouge">W</code>. Let’s say this “crossover” happens after <code class="language-plaintext highlighter-rouge">k</code> flips, making the payout <code class="language-plaintext highlighter-rouge">2^k</code>. The central assumption for the approximation is that at the fair price, this transformative payout should be roughly equal to your wealth:</p> \[W \approx 2^k\] <p>This powerful relationship can be solved for <code class="language-plaintext highlighter-rouge">k</code> by taking the base-2 logarithm of both sides:</p> \[\log_2(W) \approx \log_2(2^k) \implies \log_2(W) \approx k\] <p>However, solving the exact time-average equation numerically reveals that a more accurate approximation for the fair price <code class="language-plaintext highlighter-rouge">c</code> a person with wealth <code class="language-plaintext highlighter-rouge">W</code> should pay is:</p> \[c^*(W) \approx \log_2(W) + 1\] <p>The additional +1 term comes from the leading-order expansion of the exact equation and shrinks only logarithmically with wealth. This single equation resolves the paradox cleanly. The price is not infinite; it is a finite number that depends directly on a player’s wealth.</p> <h2 id="empirical-validation">Empirical Validation</h2> <p>The <code class="language-plaintext highlighter-rouge">log₂(W) + 1</code> formula gives us the fair price for the theoretical compounding game. But what is the true fair price for the games we simulated? We created code to find the exact price that gives a 50/50 chance of success for two different scenarios:</p> <ol> <li> <p><strong>Stake-Based Model:</strong> Our realistic simulation where winnings are kept separate.</p> </li> <li> <p><strong>Total Ruin Model:</strong> An even riskier version where running out of stake means you forfeit all winnings.</p> </li> </ol> <p>By comparing the fair prices for these models, we can precisely measure the “risk premium” associated with different rules.</p> <details> <summary>Click to see the price-finding code</summary> <pre><code class="language-python">import random
import math

def simulate_stake_play(start_stake, entry_price):
    stake = float(start_stake)
    winnings = 0.0
    
    while stake &gt;= entry_price:
        stake -= entry_price
        flips = 1
        while random.random() &gt; 0.5:
            flips += 1
        winnings += 2**flips
    
    return winnings + stake

def simulate_total_ruin_play(start_stake, entry_price):
    stake = float(start_stake)
    winnings = 0.0
    
    while stake &gt;= entry_price:
        stake -= entry_price
        flips = 1
        while random.random() &gt; 0.5:
            flips += 1
        winnings += 2**flips
    
    # Total ruin: lose everything if you don't break even
    return winnings + stake if winnings &gt;= start_stake else 0.0

def find_fair_price(game_func, wealth, target_success=0.5, tolerance=0.001):
    low = max(0.01, math.log2(wealth) - 3)
    high = math.log2(wealth)
    
    for _ in range(30):
        price = (low + high) / 2
        if price &lt;= 0:
            low = 0.01
            continue
            
        outcomes = [game_func(wealth, price) for _ in range(10000)]
        success_rate = sum(1 for x in outcomes if x &gt;= wealth) / len(outcomes)
        
        if abs(success_rate - target_success) &lt; tolerance:
            return price
        elif success_rate &gt; target_success:
            low = price
        else:
            high = price
    
    return (low + high) / 2

def compare_fair_prices():
    wealth_levels = [64, 256, 1024, 8192]
    
    print("| Starting Stake | Exact Compounding Price | Fair Price (Stake-Based) | Fair Price (Total Ruin) |")
    print("|:---|:---|:---|:---|")
    
    for w in wealth_levels:
        exact = math.log2(w) + 1
        stake_price = find_fair_price(simulate_stake_play, w)
        ruin_price = find_fair_price(simulate_total_ruin_play, w)
        
        print(f"| **${w:,}** | ${exact:.2f} | ${stake_price:.2f} | ${ruin_price:.2f} |")

if __name__ == "__main__":
    compare_fair_prices()
</code></pre> </details> <h2 id="final-results-the-risk-premium-quantified">Final Results: The Risk Premium Quantified</h2> <table> <thead> <tr> <th style="text-align: left">Starting Stake</th> <th style="text-align: left">Exact Compounding Price</th> <th style="text-align: left">Fair Price (Stake-Based)</th> <th style="text-align: left">Fair Price (Total Ruin)</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><strong>$64</strong></td> <td style="text-align: left">$7.00</td> <td style="text-align: left">$5.97</td> <td style="text-align: left">$5.82</td> </tr> <tr> <td style="text-align: left"><strong>$256</strong></td> <td style="text-align: left">$9.00</td> <td style="text-align: left">$7.63</td> <td style="text-align: left">$7.53</td> </tr> <tr> <td style="text-align: left"><strong>$1,024</strong></td> <td style="text-align: left">$11.00</td> <td style="text-align: left">$9.39</td> <td style="text-align: left">$9.31</td> </tr> <tr> <td style="text-align: left"><strong>$8,192</strong></td> <td style="text-align: left">$14.00</td> <td style="text-align: left">$11.96</td> <td style="text-align: left">$11.96</td> </tr> </tbody> </table> <p>The results clearly show the hierarchy of risk. The exact compounding price (where winnings can be reinvested) represents the theoretical upper bound for a growth-neutral game. As game rules become riskier, fair prices decrease accordingly.</p> <p>Because compounding reduces risk by allowing reinvestment of winnings, the exact compounding price acts as an <strong>upper bound</strong> above both the stake-based and total ruin prices. Our stake-based model, being more realistic but riskier than full compounding, commands a lower price. The brutal total ruin model requires the lowest price of all.</p> <p>We can now quantify the risk premium precisely. For a player with $256:</p> <ul> <li>The premium for separating stake from winnings is <code class="language-plaintext highlighter-rouge">$9.00 - $7.63 = $1.37</code>.</li> <li>The additional premium for facing total ruin is <code class="language-plaintext highlighter-rouge">$7.63 - $7.53 = $0.10</code>.</li> </ul> <h2 id="the-shrinking-risk-premium">The Shrinking Risk Premium</h2> <p>A careful examination of the results reveals a fascinating pattern. The risk premium between the stake-based and total ruin models shrinks as wealth increases:</p> <ul> <li> <strong>$64</strong>: $0.15 premium (2.5% of stake price)</li> <li> <strong>$256</strong>: $0.10 premium (1.3% of stake price)</li> <li> <strong>$1,024</strong>: $0.08 premium (0.9% of stake price)</li> <li> <strong>$8,192</strong>: Essentially zero premium</li> </ul> <p>This convergence is not due to the fat-tailed nature of the payouts, but rather to a fundamental principle from probability theory: <strong>gambler’s ruin</strong>.</p> <p>The total ruin penalty only applies in a very specific scenario: you must go bust (your stake runs out) <em>and</em> your cumulative winnings must still be less than your initial wealth. As your wealth increases relative to the entry price, the probability of this specific event shrinks dramatically according to <a href="https://en.wikipedia.org/wiki/Gambler%27s_ruin" rel="external nofollow noopener" target="_blank">classical gambler’s ruin theory</a>.</p> <p>The probability of ruin before hitting a significant win scales roughly as <code class="language-plaintext highlighter-rouge">c/W</code> (entry price divided by wealth):</p> <ul> <li> <strong>$64 wealth, $6 price</strong>: ~9.4% chance of the penalty scenario</li> <li> <strong>$8,192 wealth, $12 price</strong>: ~0.1% chance of the penalty scenario</li> </ul> <p>As this probability approaches zero, the “insurance value” of keeping winnings separate from stake becomes negligible. Both models converge to essentially the same expected outcome because the scenario that differentiates them almost never happens.</p> <p>This insight reveals an important distinction in the mathematics:</p> <ul> <li> <strong>Fat tails</strong> explain why the <code class="language-plaintext highlighter-rouge">log₂(W)</code> pricing formula works and why wealth matters for fair pricing</li> <li> <strong>Gambler’s ruin probability</strong> explains why different rule variants converge at high wealth levels</li> </ul> <p>The convergence demonstrates that at sufficient wealth levels, the specific mechanics of how losses are handled become less important than simply having enough capital to survive until the inevitable large payout arrives.</p> <h2 id="conclusion">Conclusion</h2> <p>The paradox dissolves once we specify the averaging procedure. The ensemble average is blind to the realities of time, sequence, and survival that every real person faces.</p> <p>You don’t need a psychological theory of “utility” to explain why people don’t pay much to play. You just need to model the game they are actually playing, one with a finite stake and a real risk of ruin. The value of the game is not a universal constant but a dynamic function of your personal circumstances and the specific rules under which you must operate—a conclusion that ergodicity economics formalizes and our simulation empirically verifies.</p> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Kaloyan P. Parvanov. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: June 30, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.js" integrity="sha256-4rppopQE9POKfukn2kEvhJ9Um25Cf6+IDVkARD0xh78=" crossorigin="anonymous"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-D9ELQTS46J"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D9ELQTS46J");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"About",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"Blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-projects",title:"Projects",description:"This is a collection of most of the projects I have worked on so far in my career.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-cv",title:"CV",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-the-st-petersburg-paradox-re-run-over-time",title:"The St. Petersburg Paradox, Re-Run Over Time",description:"How an old paradox reveals a deep flaw in classical economics and points the way to a more realistic model of human decision-making.",section:"Posts",handler:()=>{window.location.href="/blog/2025/st_petersburg/"}},{id:"post-the-button-game-when-should-you-stop-for-the-best-prize",title:"The Button Game: When Should You Stop for the Best Prize?",description:"An interesting interview question about optimal stopping.",section:"Posts",handler:()=>{window.location.href="/blog/2025/button_game/"}},{id:"post-detecting-regime-shifts-in-sp500-stocks-using-pca-and-sparse-pca",title:"Detecting Regime Shifts in SP500 Stocks Using PCA and Sparse PCA",description:"This project explores PCA and Sparse PCA on 457 SP500 stocks, using 2-minute interval data over 31 trading days (August 8 to September 19, 2024). The focus is on experimenting with dimensionality reduction techniques to identify regime shifts and key factors driving stock returns.",section:"Posts",handler:()=>{window.location.href="/blog/2024/distill/"}},{id:"post-the-damped-unforced-pendulum-problem",title:"The Damped Unforced Pendulum Problem",description:"Applying physics-informed neural networks to ODEs",section:"Posts",handler:()=>{window.location.href="/blog/2023/distill/"}},{id:"projects-physics-informed-neural-networks",title:"Physics-Informed Neural Networks",description:"Solving the unforced damped pendulum problem",section:"Projects",handler:()=>{window.location.href="/projects/PINN_project/"}},{id:"projects-regimeshift",title:"RegimeShift",description:"PCA Analysis of the SP500 Stocks",section:"Projects",handler:()=>{window.location.href="/projects/RegimeShift/"}},{id:"projects-eagle-eye",title:"Eagle Eye",description:"AI-Powered Search Engine",section:"Projects",handler:()=>{window.location.href="/projects/eagle_eye_project/"}},{id:"projects-gmail-smart-labeler",title:"GMail Smart Labeler",description:"AI-Powered Email Labeler",section:"Projects",handler:()=>{window.location.href="/projects/gmail_smart_labeler/"}},{id:"projects-mathbuddy",title:"MathBuddy",description:"AI-Powered Math Tutor",section:"Projects",handler:()=>{window.location.href="/projects/mathbuddy_project/"}},{id:"projects-tic-tac-toe",title:"Tic Tac Toe",description:"Tic-Tac-Toe AI with Alpha-Beta Pruning Minimax Algorithm",section:"Projects",handler:()=>{window.location.href="/projects/tic_tac_toe_project/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%70%61%72%76%61%6E%6F%76%6B%61%6C%6F%79%61%6E@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/parvanovkp","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/kparvanov","_blank")}},{id:"socials-x",title:"X",description:"Twitter",section:"Socials",handler:()=>{window.open("https://twitter.com/kparvanov1","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>